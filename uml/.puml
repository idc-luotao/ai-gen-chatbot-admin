@startuml
聊天机器人前端  -> 聊天机器人后端 : 发送提问
聊天机器人后端  -> 大模型LLM : 发送提问
大模型LLM      -> 聊天机器人后端 : 返回问题的结果
聊天机器人后端  -> 聊天机器人前端 : 返回问题的结果
alt 返回问题的结果里包含JSON
    聊天机器人前端    -> mcp_server:  获取SSFLOW申请需要的参数
    mcp_server      -> 聊天机器人前端: 返回SSFLOW申请需要的参数
    聊天机器人前端  -> 聊天机器人前端: 根据SSFLOW申请需要的参数生成form表单
    聊天机器人前端    -> mcp_server:  发送SSflow申请
    mcp_server      -> ssflow: 发送SSflow申请
    ssflow          -> mcp_server: 返回SSFLOW申请结果
    mcp_server      -> 聊天机器人前端 : 返回SSFLOW申请结果
    聊天机器人前端  -> 聊天机器人后端 : 让LLM解释SSFLOW申请结果
    聊天机器人后端  -> 大模型LLM : 让LLM解释SSFLOW申请结果
    大模型LLM      -> 聊天机器人后端 : 返回LLM解释后的SSFLOW申请结果
    聊天机器人后端  -> 聊天机器人前端 : 返回LLM解释后的SSFLOW申请结果
' else 返回问题的结果里不包含JSON
'    聊天机器人前端  -> 聊天机器人后端 : 发送提问
'    聊天机器人后端  -> 大模型LLM : 发送提问
'    大模型LLM      -> 聊天机器人后端 : 返回问题的结果
'    聊天机器人后端  -> 聊天机器人前端 : 返回问题的结果
end
聊天机器人前端  -> 聊天机器人后端 : 发送提问
聊天机器人后端  -> 大模型LLM : 发送提问
大模型LLM      -> 聊天机器人后端 : 返回问题的结果
聊天机器人后端  -> 聊天机器人前端 : 返回问题的结果
@enduml